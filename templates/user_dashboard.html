<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saarthi | Smart Governance Dashboard</title>
    
    <!-- Premium Font -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --saffron: #FF9933;
            --green: #138808;
            --navy: #1a2a47;
            --bg-color: #f8fafc;
            --white: #ffffff;
            --text-gray: #64748b;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            
            /* Shadows */
            --shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.08);
            --shadow-glow: 0 10px 20px -5px rgba(255, 153, 51, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; -webkit-tap-highlight-color: transparent; }

        body { 
            background: var(--bg-color); 
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 24px 24px;
            min-height: 100vh;
            color: var(--navy);
            padding-bottom: 130px; 
            overflow-x: hidden;
        }

        /* --- 1. HEADER --- */
        .app-header {
            height: 75px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.02);
        }

        .left-head { display: flex; align-items: center; gap: 15px; }
        
        .hamburger {
            font-size: 24px; color: var(--navy); cursor: pointer;
            width: 45px; height: 45px; display: grid; place-items: center;
            border-radius: 12px; transition: 0.3s;
        }
        .hamburger:hover { background: #f1f5f9; color: var(--saffron); }

        .header-branding { display: flex; align-items: center; gap: 10px; }
        .app-logo { height: 38px; width: auto; }
        .header-title { font-weight: 800; font-size: 22px; letter-spacing: -0.5px; }

        .profile-trigger {
            width: 45px; height: 45px; border-radius: 14px; 
            background: #fff; border: 1.5px solid #e2e8f0;
            display: grid; place-items: center; cursor: pointer;
            transition: var(--transition);
        }
        .profile-trigger i { color: var(--green); transition: 0.3s; }
        
        .profile-trigger:hover { 
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 5px 15px rgba(19, 136, 8, 0.15);
            border-color: var(--green);
        }

        /* --- 2. SIDEBAR STYLES --- */
        .menu-overlay {
            position: fixed; inset: 0; background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(5px); z-index: 200; 
            opacity: 0; visibility: hidden; transition: 0.4s ease;
        }
        .menu-overlay.active { opacity: 1; visibility: visible; }

        .drawer {
            position: fixed; top: 0; height: 100%; width: 320px;
            background: var(--white); z-index: 210; 
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            display: flex; flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }

        .side-menu { left: 0; transform: translateX(-100%); border-right: 1px solid #f1f5f9; }
        .side-menu.active { transform: translateX(0); }

        .profile-side-menu { right: 0; transform: translateX(100%); border-left: 1px solid #f1f5f9; width: 340px;}
        .profile-side-menu.active { transform: translateX(0); }

        .menu-header { 
            padding: 25px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 1px solid #f1f5f9;
            flex-shrink: 0;
        }

        .close-btn { 
            font-size: 20px; color: #94a3b8; cursor: pointer; 
            width: 40px; height: 40px; border-radius: 50%;
            display: grid; place-items: center;
            transition: var(--transition);
        }
        .close-btn:hover { 
            background: #fef2f2; color: #ef4444; transform: rotate(90deg);
        }

        .menu-content { flex-grow: 1; overflow-y: auto; padding: 20px; }
        .menu-content::-webkit-scrollbar { width: 0; }

        .menu-footer { 
            padding: 20px 25px 30px; border-top: 1px solid #f1f5f9; background: #fff; flex-shrink: 0; 
        }

        .menu-link {
            display: flex; align-items: center; gap: 15px; padding: 16px 20px;
            border-radius: 14px; text-decoration: none; color: #64748b; 
            font-weight: 700; font-size: 16px; 
            margin-bottom: 8px; transition: 0.3s;
            border: 1px solid transparent;
        }
        .menu-link i { font-size: 18px; width: 25px; color: var(--navy); }
        .menu-link:hover { background: #f8fafc; color: var(--navy); border-color: #e2e8f0; transform: translateX(5px); }

        .points-box {
            background: linear-gradient(135deg, var(--saffron), #e67e22);
            color: white; padding: 18px 24px; border-radius: 18px; 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: var(--shadow-glow);
        }

        /* --- 3. DASHBOARD CONTENT --- */
        .main-content { padding: 30px 20px; max-width: 1000px; margin: 0 auto; }
        .dashboard-label { font-size: 28px; font-weight: 800; margin-bottom: 25px; }

        .hero-banner {
            background: var(--white); border-radius: 28px; padding: 40px 30px;
            box-shadow: var(--shadow-soft); display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 30px; position: relative; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .hero-text h1 { font-size: 32px; font-weight: 800; margin: 5px 0 10px; }
        .hero-pill-bg {
            position: absolute; right: -20px; top: -20px; height: 140%; width: 45%;
            background: linear-gradient(135deg, rgb(8 136 16 / 0%), rgb(246 159 0));
            border-radius: 200px; transform: rotate(-10deg); z-index: 1;
            display: grid; place-items: center;
        }
        .hero-pill-bg img { width: 140px; z-index: 2; opacity: 0.9; }

        .search-area { position: relative; width: 100%; margin-bottom: 30px; }
        .search-input {
            width: 100%; padding: 18px 60px; border-radius: 20px; border: none;
            background: var(--white); box-shadow: 0 5px 20px rgba(0,0,0,0.04);
            font-size: 16px; font-weight: 600; outline: none; transition: 0.3s;
        }
        .search-input:focus { box-shadow: 0 10px 30px rgba(19, 136, 8, 0.15); }
        
        .service-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        @media (min-width: 600px) { .service-grid { grid-template-columns: repeat(3, 1fr); gap: 25px; } }

        .service-card {
            background: var(--white); padding: 25px 15px; border-radius: 22px;
            display: flex; flex-direction: column; align-items: center; text-align: center;
            gap: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.03); cursor: pointer;
            transition: var(--transition); border: 1px solid transparent;
        }
        .service-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); border-color: #f1f5f9; }

        .icon-circle {
            width: 55px; height: 55px; border-radius: 18px;
            display: grid; place-items: center; color: white; font-size: 22px;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        .grad-orange { background: linear-gradient(135deg, #FF9933, #FF7700); }
        .grad-navy { background: linear-gradient(135deg, #1a2a47, #2c3e50); }
        .grad-green { background: linear-gradient(135deg, #138808, #27ae60); }
        .grad-blue { background: linear-gradient(135deg, #3498db, #2980b9); }

        /* --- 4. FLOOR MENU --- */
        .floor-menu {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            width: 95%; max-width: 900px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px); height: 80px; 
            border-radius: 40px; display: flex; 
            justify-content: space-around; align-items: center; 
            z-index: 900; box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.6); padding: 0 10px;
        }

        .floor-item { text-align: center; color: #94a3b8; padding: 10px; transition: 0.3s; flex: 1; cursor: pointer;}
        .floor-item i { font-size: 26px; margin-bottom: 2px; display: block; }
        .floor-item.active { color: var(--navy); transform: translateY(-2px); }

        /* --- 5. CHATBOT STYLES --- */
        .chatbot-trigger {
            position: fixed; bottom: 120px; right: 30px;
            width: 65px; height: 65px; background: var(--navy);
            border-radius: 50%; display: grid; place-items: center;
            color: white; font-size: 28px; cursor: pointer;
            box-shadow: 0 10px 30px rgba(26, 42, 71, 0.3);
            z-index: 999; transition: var(--transition);
            border: 3px solid #fff;
        }
        .chatbot-trigger:hover { transform: scale(1.1) rotate(-10deg); background: var(--saffron); }

        .chat-container {
            position: fixed; bottom: 110px; right: 25px;
            width: 380px; height: 550px; max-height: 75vh;
            background: #fff; border-radius: 28px;
            box-shadow: 0 25px 70px rgba(0,0,0,0.2);
            z-index: 1000; display: flex; flex-direction: column;
            overflow: hidden; transform: translateY(30px) scale(0.9);
            opacity: 0; visibility: hidden; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255,255,255,0.8);
        }
        .chat-container.active { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }

        .chat-header {
            background: var(--navy); color: #fff; padding: 22px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .chat-messages {
            flex: 1; overflow-y: auto; padding: 20px;
            display: flex; flex-direction: column; gap: 15px;
            background: #fdfdfd; background-image: radial-gradient(#e2e8f0 0.5px, transparent 0.5px); background-size: 15px 15px;
        }
        .msg { padding: 14px 18px; border-radius: 20px; max-width: 85%; font-size: 14px; font-weight: 500; line-height: 1.5; box-shadow: 0 2px 5px rgba(0,0,0,0.02); }
        .msg.bot { background: #fff; color: var(--navy); align-self: flex-start; border-bottom-left-radius: 4px; border: 1px solid #e2e8f0; }
        .msg.user { background: var(--saffron); color: #fff; align-self: flex-end; border-bottom-right-radius: 4px; }

        .chat-input-area {
            padding: 18px; border-top: 1px solid #f1f5f9;
            display: flex; gap: 12px; background: #fff;
        }
        .chat-input {
            flex: 1; border: 1.5px solid #e2e8f0; padding: 12px 20px;
            border-radius: 30px; outline: none; font-size: 14px; transition: 0.3s;
        }
        .chat-input:focus { border-color: var(--saffron); box-shadow: 0 0 0 4px rgba(255, 153, 51, 0.1); }
        .send-btn {
            width: 48px; height: 48px; background: var(--green);
            color: white; border: none; border-radius: 50%;
            cursor: pointer; transition: 0.3s; display: grid; place-items: center; font-size: 18px;
        }
        .send-btn:hover { transform: scale(1.1); background: var(--navy); }

        @media (max-width: 450px) {
            .chat-container { width: 92%; right: 4%; bottom: 120px; }
        }

        /* Language Select Fix */
        .lang-container { padding: 0 20px 10px; }
        #google_translate_element select {
            width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #e2e8f0;
            background: #f8fafc; color: var(--navy); font-weight: 600; outline: none;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="app-header">
        <div class="left-head">
            <div class="hamburger" onclick="toggleMenu('sideMenu')">
                <i class="fa-solid fa-bars-staggered"></i>
            </div>
            <div class="header-branding">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="app-logo">
                <div class="header-title">Saarthi</div>
            </div>
        </div>
        <div class="right-head">
            <div class="profile-trigger" onclick="toggleMenu('profileMenu')">
                <i class="fa-solid fa-user-check"></i>
            </div>
        </div>
    </header>

    <!-- Overlay -->
    <div class="menu-overlay" id="overlay" onclick="closeAll()"></div>

    <!-- 1. LEFT SIDEBAR -->
    <aside class="side-menu drawer" id="sideMenu">
        <div class="menu-header">
            <div class="header-branding">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="app-logo">
                <span style="font-weight: 800; font-size: 20px; color: var(--navy);">SAARTHI</span>
            </div>
            <div class="close-btn" onclick="closeAll()">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>
        
        <div class="menu-content">
            <div class="menu-link" style="opacity:0.6; font-size:12px; margin-bottom:5px;">LANGUAGE</div>
            <div class="lang-container"><div id="google_translate_element"></div></div>

            <div class="menu-link" style="opacity:0.6; font-size:12px; margin: 15px 0 5px;">MENU</div>
            <a href="{{ url_for('track') }}"  class="menu-link"><i class="fa-solid fa-location-dot"></i> Track Status</a>
            <!-- Icon changed to fa-compass -->
            <a href="{{ url_for('scheme') }}" class="menu-link"><i class="fa-solid fa-compass"></i> Explore Schemes</a>
            <a href="#" class="menu-link"><i class="fa-solid fa-file-contract"></i> Documents</a>
            <a href="#" class="menu-link"><i class="fa-solid fa-headset"></i> Help Center</a>
        </div>

        <div class="menu-footer">
            <div class="points-box">
                <div>
                    <div style="font-size: 10px; font-weight: 700; opacity: 0.9;">AVAILABLE POINTS</div>
                    <span style="font-size: 20px; font-weight: 800;">1,250 SP</span>
                </div>
                <i class="fa-solid fa-coins" style="font-size: 24px;"></i>
            </div>
        </div>
    </aside>

    <!-- 2. RIGHT SIDEBAR -->
    <aside class="profile-side-menu drawer" id="profileMenu">
        <div class="menu-header">
            <span style="font-weight: 800; font-size: 18px;">MY PROFILE</span>
            <div class="close-btn" onclick="closeAll()">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>

        <div class="menu-content">
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="width: 80px; height: 80px; background: #f1f5f9; border-radius: 50%; margin: 0 auto 10px; display: grid; place-items: center; font-size: 30px; color: #cbd5e1;">
                    <i class="fa-solid fa-user"></i>
                </div>
                <h2 style="font-size: 20px; color: var(--navy);">{{ name if name else 'Kalyani Jha' }}</h2>
                <div style="background: var(--green); color: white; padding: 4px 12px; border-radius: 20px; font-size: 10px; font-weight: 700; display: inline-block;">VERIFIED CITIZEN</div>
            </div>

            <div class="menu-link" style="flex-direction: column; align-items: flex-start; background: #f8fafc;">
                <label style="font-size: 10px; font-weight: 800; color: #94a3b8;">EMAIL ADDRESS</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <i class="fa-solid fa-envelope" style="color:var(--green);"></i>
                    <span style="font-weight: 600; font-size: 14px;">kalyanijha@gmail.com</span>
                </div>
            </div>

            <div class="menu-link" style="flex-direction: column; align-items: flex-start; background: #f8fafc;">
                <label style="font-size: 10px; font-weight: 800; color: #94a3b8;">MOBILE NUMBER</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <i class="fa-brands fa-whatsapp" style="color:var(--green);"></i>
                    <span style="font-weight: 600; font-size: 14px;">+91 89900 00000</span>
                </div>
            </div>

            <!-- Upload Buttons -->
            <div class="menu-link" onclick="document.getElementById('aadhaar_up').click()" style="cursor: pointer;">
                <i class="fa-solid fa-id-card" style="color:var(--saffron);"></i>
                <div style="flex:1;">
                    <div style="font-size:14px; font-weight:700;">Aadhaar Card</div>
                    <div style="font-size:10px; color:#94a3b8;" id="aadhaar_status">Tap to Upload</div>
                </div>
                <i class="fa-solid fa-cloud-arrow-up" style="font-size:14px; color:#cbd5e1; width:auto;"></i>
                <input type="file" id="aadhaar_up" hidden onchange="document.getElementById('aadhaar_status').innerText='Uploaded'; document.getElementById('aadhaar_status').style.color='var(--green)'">
            </div>

            <div class="menu-link" onclick="document.getElementById('pan_up').click()" style="cursor: pointer;">
                <i class="fa-solid fa-address-card" style="color:var(--navy);"></i>
                <div style="flex:1;">
                    <div style="font-size:14px; font-weight:700;">PAN Card</div>
                    <div style="font-size:10px; color:#94a3b8;" id="pan_status">Tap to Upload</div>
                </div>
                <i class="fa-solid fa-cloud-arrow-up" style="font-size:14px; color:#cbd5e1; width:auto;"></i>
                <input type="file" id="pan_up" hidden onchange="document.getElementById('pan_status').innerText='Uploaded'; document.getElementById('pan_status').style.color='var(--green)'">
            </div>
        </div>

        <div class="menu-footer">
            <a href="{{ url_for('logout') }}" class="menu-link" style="background: #fef2f2; color: #ef4444; justify-content: center;">
                <i class="fa-solid fa-power-off" style="color: #ef4444;"></i> Sign Out
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <h1 class="dashboard-label">Dashboard</h1>

        <section class="hero-banner">
            <div class="hero-text">
                <h2 style="font-size:16px; color:#64748b; font-weight:600;">Good Morning,</h2>
                <h1>{{ name if name else 'Citizen' }}</h1>
                <p style="color:#64748b;">Saarthi helps you connect with <b style="color:var(--saffron)">Governance</b>.</p>
            </div>
            <div class="hero-pill-bg"></div>
        </section>

        <div class="search-area">
            <i class="fa-solid fa-magnifying-glass" style="position: absolute; left: 25px; top: 50%; transform: translateY(-50%); color: #94a3b8;"></i>
            <input type="text" class="search-input" placeholder="Search services...">
            <i class="fa-solid fa-microphone" style="position: absolute; right: 25px; top: 50%; transform: translateY(-50%); color: var(--saffron); cursor: pointer;"></i>
        </div>

        <div class="service-grid">
    <!-- 1. Electricity Bill -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='electricity') }}'">
        <div class="icon-circle grad-orange">
            <i class="fa-solid fa-bolt"></i>
        </div>
        <span style="font-weight:700;">Electricity Bill</span>
    </div>

    <!-- 2. Cyber Fraud (Fixed type from voter to cyber) -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='cyber') }}'">
        <div class="icon-circle grad-navy">
            <i class="fa-solid fa-user-shield"></i>
        </div>
        <span style="font-weight:700;">Cyber Fraud</span>
    </div>

    <!-- 3. Water Service (Added type) -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='water') }}'">
        <div class="icon-circle grad-blue">
            <i class="fa-solid fa-droplet"></i>
        </div>
        <span style="font-weight:700;">Water</span>
    </div>

    <!-- 4. Scholarship (Added type) -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='scholarship') }}'">
        <div class="icon-circle grad-green">
            <i class="fa-solid fa-graduation-cap"></i>
        </div>
        <span style="font-weight:700;">Scholarship</span>
    </div>

    <!-- 5. Aadhaar Service (Added type) -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='aadhaar') }}'">
        <div class="icon-circle grad-orange">
            <i class="fa-solid fa-fingerprint"></i>
        </div>
        <span style="font-weight:700;">Aadhaar</span>
    </div>

    <!-- 6. Voter ID (Added type) -->
    <div class="service-card" onclick="window.location.href='{{ url_for('form', type='voter') }}'">
        <div class="icon-circle grad-green">
            <i class="fa-solid fa-id-card"></i>
        </div>
        <span style="font-weight:700;">Voter ID</span>
    </div>
</div>
    </main>

    <!-- Chatbot Trigger -->
    <div class="chatbot-trigger" id="botTrigger" onclick="toggleChat()">
        <i class="fa-solid fa-robot"></i>
    </div>

    <!-- Saarthi Chat Window -->
    <div class="chat-container" id="chatWindow">
        <div class="chat-header">
            <div style="display:flex; align-items:center; gap:12px;">
                <div style="width:38px; height:38px; background:var(--saffron); border-radius:50%; display:grid; place-items:center; box-shadow: 0 4px 10px rgba(255,153,51,0.3);">
                    <i class="fa-solid fa-robot" style="font-size:18px;"></i>
                </div>
                <div>
                    <div style="font-weight:800; font-size:16px; letter-spacing: -0.2px;">Saarthi AI</div>
                    <div style="font-size:10px; opacity:0.8; font-weight:600;">Connecting Governance</div>
                </div>
            </div>
            <div class="close-btn" style="color:#fff; width:35px; height:35px;" onclick="toggleChat()">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>
        <div class="chat-messages" id="chatMsgs">
            <div class="msg bot">Namaste! I am Saarthi, your digital governance guide. How can I help you today?</div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="userInput" placeholder="Type your query..." onkeypress="if(event.key === 'Enter') sendMessage()">
            <button class="send-btn" onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Floor Menu -->
     <nav class="floor-menu">
        <div class="floor-item active" onclick="location.href='{{ url_for('dashboard') }}'"><i class="fa-solid fa-house"></i><span style="font-size: 10px; font-weight: 800; display:block;">Home</span></div>
        <div class="floor-item floor-plus" onclick="location.href='{{ url_for('post') }}'"><i class="fa-solid fa-plus"></i></div>
        <div class="floor-item" onclick="location.href='{{ url_for('connect') }}'"><i class="fa-solid fa-award"></i><span style="font-size: 10px; font-weight: 800; display:block;">SaarthiConnect</span></div>
    </nav>

    <script>
        function toggleMenu(id) {
            const menu = document.getElementById(id);
            const overlay = document.getElementById('overlay');
            const isActive = menu.classList.contains('active');
            closeAll();
            if (!isActive) {
                menu.classList.add('active');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeAll() {
            document.querySelectorAll('.drawer').forEach(el => el.classList.remove('active'));
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        function toggleChat() {
            const chat = document.getElementById('chatWindow');
            chat.classList.toggle('active');
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const msgs = document.getElementById('chatMsgs');
            if(!input.value.trim()) return;

            const userVal = input.value;
            msgs.innerHTML += `<div class="msg user">${userVal}</div>`;
            input.value = '';
            msgs.scrollTop = msgs.scrollHeight;

            // Connect to app.py route
            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ message: userVal })
                });
                const data = await response.json();
                msgs.innerHTML += `<div class="msg bot">${data.reply}</div>`;
            } catch (e) {
                msgs.innerHTML += `<div class="msg bot">System is busy. Please try again in a moment.</div>`;
            }
            msgs.scrollTop = msgs.scrollHeight;
        }

        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,hi,bn,te,mr,ta,ur,gu,kn,ml,or,pa,as,mai,sa,sd,ks,ne,doi,kok,mni,brx,sat',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>